(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();let d=["c","a","p","a","s"],c=0,i=0,a=[{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1}],m=[],g=null;document.querySelector("#app").innerHTML=`
  <div class="game"> 
    <div class="board"></div>
    <div class="message"></div>
    <div class="keyboard"></div>
  </div>
`;const n=document.querySelector(".message"),w=()=>{const s=document.querySelector(".keyboard"),e=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Ñ","BACKSPACE","Z","X","C","V","B","N","M","ENTER"];if(!s)return;let t="";for(let r=0;r<e.length;r++)e[r]==="BACKSPACE"?t+=`<div class="key key-special" id="key-backspace"> 
            <svg class="key-icon" width="500" height="500" viewBox="0 0 20 20">
                <path fill="#fff" d="M9.146 7.146a.5.5 0 0 1 .708 0L12 9.293l2.146-2.147a.5.5 0 0 1 .708.708L12.707 10l2.147 2.146a.5.5 0 0 1-.708.708L12 10.707l-2.146 2.147a.5.5 0 0 1-.708-.707L11.293 10L9.146 7.854a.5.5 0 0 1 0-.708m-2.56-2.482A2.5 2.5 0 0 1 8.283 4H15.5A2.5 2.5 0 0 1 18 6.5v7a2.5 2.5 0 0 1-2.5 2.5H8.283a2.5 2.5 0 0 1-1.697-.664l-3.787-3.5a2.5 2.5 0 0 1 0-3.672zM8.283 5a1.5 1.5 0 0 0-1.018.399l-3.787 3.5a1.5 1.5 0 0 0 0 2.203l3.787 3.5A1.5 1.5 0 0 0 8.283 15H15.5a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 15.5 5z"/></svg>
            </div>`:e[r]==="ENTER"?t+=`<div class="key key-special" id="key-enter">
            <svg class="key-icon" width="500" height="500" viewBox="0 0 24 24">
                <path fill="#fff" d="M19 6a1 1 0 0 0-1 1v4a1 1 0 0 1-1 1H7.41l1.3-1.29a1 1 0 0 0-1.42-1.42l-3 3a1 1 0 0 0-.21.33a1 1 0 0 0 0 .76a1 1 0 0 0 .21.33l3 3a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42L7.41 14H17a3 3 0 0 0 3-3V7a1 1 0 0 0-1-1"/>
            </svg>
            </div>`:t+=`<div class="key" id="key-${e[r].toLowerCase()}">${e[r]}</div>`;s.innerHTML=t,g=document.querySelectorAll(".key")},L=()=>{const s=document.querySelector(".board");if(!s)return;let e="";for(let t=0;t<6;t++)e+=`
        <div class="row row-${t}">
            <div class="cell cell-0"></div>
            <div class="cell cell-1"></div>
            <div class="cell cell-2"></div>
            <div class="cell cell-3"></div>
            <div class="cell cell-4"></div>
        </div>`;s.innerHTML=e},C=async()=>{m=[...(await(await fetch("https://raw.githubusercontent.com/titoBouzout/Dictionaries/refs/heads/master/Spanish.dic")).text()).split(`
`).map(l=>l.replace(/\/.*/g,"")).map(l=>v(l))],y(!0)};function v(s){return s.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const h=()=>{const s=m.filter(r=>r.length===5),e=Math.floor(Math.random()*s.length);d=v(s[e]).split("").map(r=>r.toLowerCase())},b=()=>{const s=v(a.map(e=>e.letter).join(""));return!!m.includes(s)},f=(s,e)=>{const t=document.querySelector(`#key-${s.toLowerCase()}`);t&&(t.classList.contains("key-correct")||(t.classList.contains("key-present")&&t.textContent===s.toUpperCase()&&t.classList.remove("key-present"),t.classList.add(`key-${e}`)))},y=(s=!1)=>{c=0,i=0,a=[{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1}],L(),s&&h(),k()},k=()=>{g.forEach(s=>{s.classList.remove("key-correct","key-present","key-wrong")})},P=()=>{const s=document.querySelector("body"),e=document.createElement("dialog");e.classList.add("dialog"),e.innerHTML=`
		<div class="dialog-container">
			<span class="dialog-title"></span>
			<div class="dialog-message"></div>
			<span class="dialog-word"></span>
			<button class="dialog-button">OK</button>
		</div>
	`,s.appendChild(e)},p=(s,e)=>{P();const t=document.querySelector(".dialog");if(!t)return;t.classList.add("dialog-show"),t.open=!0,t.querySelector(".dialog-message").innerHTML=s.join("<br>");const r=document.querySelector(".dialog-title"),o=t.querySelector(".dialog-button"),l=document.querySelector(".dialog-word");o.addEventListener("mousedown",()=>{t.close(),t.open=!1,t.classList.remove("dialog-show"),y(e==="win"),t.remove()}),o.textContent=e==="win"?"Jugar de nuevo":"Intentar de nuevo",r.textContent=e==="win"?"¡Acertaste!":"Game Over",e==="lose"?(r.classList.remove("dialog-title-win"),r.classList.add("dialog-title-lose")):(r.classList.remove("dialog-title-lose"),r.classList.add("dialog-title-win"),l.textContent=d.join("").toUpperCase())},S=()=>{a.map(s=>s.letter).join("").toLowerCase()===d.join("").toLowerCase()?p(["","Adivinaste la palabra"],"win"):c===5&&p(["No has adivinado la palabra",""],"lose")},q=()=>{const s={};for(const e of d.join("").toLowerCase())s[e]=(s[e]||0)+1;for(let e=0;e<a.length;e++){const t=document.querySelector(`.row-${c} .cell-${e}`),r=a[e].letter.toLowerCase();r===d[e].toLowerCase()&&(a[e].isCorrect=!0,f(a[e].letter,"correct"),t?.classList.add("letter-correct"),s[r]--)}for(let e=0;e<a.length;e++){const t=document.querySelector(`.row-${c} .cell-${e}`),r=a[e].letter.toLowerCase();a[e].isCorrect||(d.includes(r)&&s[r]>0?(a[e].isPresent=!0,f(a[e].letter,"present"),t?.classList.add("letter-present"),s[r]--):(f(a[e].letter,"wrong"),t?.classList.add("letter-wrong")))}};C();L();w();g.forEach(s=>{s.addEventListener("click",()=>{const e=s.id.split("-")[1];if(e)if(e==="backspace"&&i>0){i--;const t=document.querySelector(`.row-${c} .cell-${i}`);if(!t)return;t.classList.remove("new-letter"),t.textContent="",n.classList.remove("message-error"),n.textContent="",a[i].letter=""}else if(e==="enter"){if(i!==5)return;if(b())n.classList.remove("message-error"),S(),q();else{n.textContent="Palabra no valida",n.classList.add("message-error"),setTimeout(()=>{n.classList.remove("message-error"),n.textContent=""},3e3);return}const t=document.querySelector(`.row-${c}`);if(!t)return;t.classList.add("row-added"),c++,i=0,a=[{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1},{letter:"",isCorrect:!1,isPresent:!1}]}else{if(e==="backspace")return;a[i].letter=e;const t=document.querySelector(`.row-${c} .cell-${i}`);if(!t)return;t.classList.add("new-letter"),t.textContent=e.toUpperCase(),i++}})});
